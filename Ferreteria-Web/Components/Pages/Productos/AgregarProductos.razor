@page "/agregarproducto"
@using MudBlazor

<PageTitle>Ingresar Producto</PageTitle>

<MudContainer MaxWidth="MaxWidth.Medium" Class="mt-4">
    <MudText Typo="Typo.h3" GutterBottom="true" Align="Align.Center" Class="mb-4">
        Agregar Producto
    </MudText>

    <EditForm Model="@_nuevoProducto" OnValidSubmit="OnValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <MudGrid Justify="Justify.Center">
            <MudItem xs="12" sm="10" md="8">
                <MudCard Elevation="4">
                    <MudCardContent Class="pa-6">

                        <MudTextField T="string"
                                      Label="Nombre"
                                      Required="true"
                                      @bind-Value="_nuevoProducto.Nombre"
                                      For="@(() => _nuevoProducto.Nombre)"
                                      RequiredError="El nombre es obligatorio"
                                      Margin="Margin.Normal"
                                      Variant="Variant.Outlined" />

                        <MudTextField T="string"
                                      Label="Descripción"
                                      @bind-Value="_nuevoProducto.Descripcion"
                                      For="@(() => _nuevoProducto.Descripcion)"
                                      Margin="Margin.Normal"
                                      Variant="Variant.Outlined"
                                      Lines="3" />

                        <MudGrid Class="mt-3">
                            <MudItem xs="12" sm="6">
                                <MudNumericField T="decimal"
                                                 Label="Precio Compra"
                                                 Required="true"
                                                 Min="0"
                                                 @bind-Value="_nuevoProducto.Precio_Compra"
                                                 For="@(() => _nuevoProducto.Precio_Compra)"
                                                 Adornment="Adornment.Start"
                                                 AdornmentText="₡"
                                                 Variant="Variant.Outlined" />
                            </MudItem>
                            <MudItem xs="12" sm="6">
                                <MudNumericField T="decimal"
                                                 Label="Precio Venta"
                                                 Required="true"
                                                 Min="0"
                                                 @bind-Value="_nuevoProducto.Precio_Venta"
                                                 For="@(() => _nuevoProducto.Precio_Venta)"
                                                 Adornment="Adornment.Start"
                                                 AdornmentText="₡"
                                                 Variant="Variant.Outlined" />
                            </MudItem>
                        </MudGrid>

                        <MudGrid Class="mt-3">
                            <MudItem xs="12" sm="6">
                                <MudNumericField T="int"
                                                 Label="Stock Actual"
                                                 Required="true"
                                                 Min="0"
                                                 @bind-Value="_nuevoProducto.Stock_Actual"
                                                 For="@(() => _nuevoProducto.Stock_Actual)"
                                                 Variant="Variant.Outlined" />
                            </MudItem>
                            <MudItem xs="12" sm="6">
                                <MudNumericField T="int"
                                                 Label="Stock Mínimo"
                                                 Required="true"
                                                 Min="0"
                                                 @bind-Value="_nuevoProducto.Stock_Minimo"
                                                 For="@(() => _nuevoProducto.Stock_Minimo)"
                                                 Variant="Variant.Outlined" />
                            </MudItem>
                        </MudGrid>

                        <MudGrid Class="mt-3">
                            <MudItem xs="12" sm="6">
                                <MudNumericField T="int"
                                                 Label="ID Categoría"
                                                 Required="true"
                                                 Min="1"
                                                 @bind-Value="_nuevoProducto.Id_Categoria"
                                                 For="@(() => _nuevoProducto.Id_Categoria)"
                                                 Variant="Variant.Outlined" />
                            </MudItem>
                            <MudItem xs="12" sm="6">
                                <MudNumericField T="int"
                                                 Label="ID Proveedor"
                                                 Required="true"
                                                 Min="1"
                                                 @bind-Value="_nuevoProducto.Id_Proveedor"
                                                 For="@(() => _nuevoProducto.Id_Proveedor)"
                                                 Variant="Variant.Outlined" />
                            </MudItem>
                        </MudGrid>

                    </MudCardContent>
                    <MudCardActions Class="pa-4 d-flex justify-end">
                        <MudButton ButtonType="ButtonType.Reset"
                                   Variant="Variant.Outlined"
                                   Color="Color.Secondary"
                                   Class="mr-3">
                            <MudIcon Icon="@Icons.Material.Filled.Clear" Class="mr-2" />
                            Limpiar
                        </MudButton>
                        <MudButton ButtonType="ButtonType.Submit"
                                   Variant="Variant.Filled"
                                   Color="Color.Primary">
                            Guardar Producto
                        </MudButton>
                    </MudCardActions>
                </MudCard>
            </MudItem>
        </MudGrid>
    </EditForm>
</MudContainer>